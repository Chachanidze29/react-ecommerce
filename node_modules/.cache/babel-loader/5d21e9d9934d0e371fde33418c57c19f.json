{"ast":null,"code":"import _asyncToGenerator from\"/home/avtoneo/react/ecommerce-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/avtoneo/react/ecommerce-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectDestructuringEmpty from\"/home/avtoneo/react/ecommerce-react/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\";import _regeneratorRuntime from\"/home/avtoneo/react/ecommerce-react/node_modules/@babel/runtime/regenerator/index.js\";import{useContext,useEffect,useState}from'react';import axios from'axios';import{CartReducerDispatcher}from\"../contexts/cartContext\";import Loader from'../components/Loader';import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=function Product(_ref){var _product$rating;_objectDestructuringEmpty(_ref);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),product=_useState4[0],setProduct=_useState4[1];var _useParams=useParams(),productId=_useParams.productId;var dispatch=useContext(CartReducerDispatcher);var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://fakestoreapi.com/products/\".concat(productId));case 2:response=_context.sent;setProduct(response.data);setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref2.apply(this,arguments);};}();useEffect(function(){setLoading(true);getData().catch(function(err){console.log(err);setLoading(false);});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center w-full h-screen\",children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center w-1/2 mt-20\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.title}),/*#__PURE__*/_jsx(\"img\",{src:product.image,className:\"w-40 h-40\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between w-full mt-6\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",product===null||product===void 0?void 0:(_product$rating=product.rating)===null||_product$rating===void 0?void 0:_product$rating.rate]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: $\",product===null||product===void 0?void 0:product.price]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"z-50 p-2 mt-4 text-white bg-blue-500 rounded-lg w-28\",onClick:function onClick(){return dispatch({type:'add_item',payload:product});},children:\"Add to Cart\"})]})});};export default Product;","map":{"version":3,"names":["useContext","useEffect","useState","axios","CartReducerDispatcher","Loader","useParams","Product","loading","setLoading","product","setProduct","productId","dispatch","getData","get","response","data","catch","err","console","log","title","image","description","rating","rate","price","type","payload"],"sources":["/home/avtoneo/react/ecommerce-react/src/pages/Product.jsx"],"sourcesContent":["import {useContext, useEffect, useState} from 'react'\nimport axios from 'axios'\nimport {CartReducerDispatcher} from \"../contexts/cartContext\";\n\nimport Loader from '../components/Loader'\nimport {useParams} from \"react-router-dom\";\n\nconst Product = ({})=> {\n    const [loading,setLoading] = useState(false);\n    const [product,setProduct] = useState({});\n    const {productId} = useParams();\n    const dispatch = useContext(CartReducerDispatcher);\n\n    const getData = async () => {\n        const response = await axios.get(`https://fakestoreapi.com/products/${productId}`);\n        setProduct(response.data);\n        setLoading(false);\n    }\n\n    useEffect(()=>{\n        setLoading(true);\n\n        getData().catch((err) => {\n            console.log(err)\n            setLoading(false);\n        })\n    },[]);\n\n    return(\n        <div className='flex flex-col items-center w-full h-screen'>\n            {\n                loading ? <Loader/>\n                    :\n                    (\n                        <div className='flex flex-col items-center w-1/2 mt-20'>\n                            <h1>{product.title}</h1>\n                            <img src={product.image} className='w-40 h-40' />\n                            <p className='mt-4'>{product.description}</p>\n                            <div className='flex justify-between w-full mt-6'>\n                                <p>Rating: {product?.rating?.rate}</p>\n                                <p>Price: ${product?.price}</p>\n                            </div>\n                            <button className='z-50 p-2 mt-4 text-white bg-blue-500 rounded-lg w-28'\n                                    onClick={() => dispatch({\n                                        type:'add_item',\n                                        payload:product\n                                    })}>Add to Cart</button>\n                        </div>\n                    )\n            }\n        </div>\n    )\n}\n\nexport default Product;"],"mappings":"6fAAA,OAAQA,UAAR,CAAoBC,SAApB,CAA+BC,QAA/B,KAA8C,OAA9C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAAQC,qBAAR,KAAoC,yBAApC,CAEA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,MAAO,qDACnB,cAA6BL,QAAQ,CAAC,KAAD,CAArC,wCAAOM,OAAP,eAAeC,UAAf,eACA,eAA6BP,QAAQ,CAAC,EAAD,CAArC,yCAAOQ,OAAP,eAAeC,UAAf,eACA,eAAoBL,SAAS,EAA7B,CAAOM,SAAP,YAAOA,SAAP,CACA,GAAMC,SAAQ,CAAGb,UAAU,CAACI,qBAAD,CAA3B,CAEA,GAAMU,QAAO,2FAAG,sKACWX,MAAK,CAACY,GAAN,6CAA+CH,SAA/C,EADX,QACNI,QADM,eAEZL,UAAU,CAACK,QAAQ,CAACC,IAAV,CAAV,CACAR,UAAU,CAAC,KAAD,CAAV,CAHY,sDAAH,kBAAPK,QAAO,2CAAb,CAMAb,SAAS,CAAC,UAAI,CACVQ,UAAU,CAAC,IAAD,CAAV,CAEAK,OAAO,GAAGI,KAAV,CAAgB,SAACC,GAAD,CAAS,CACrBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAV,UAAU,CAAC,KAAD,CAAV,CACH,CAHD,EAIH,CAPQ,CAOP,EAPO,CAAT,CASA,mBACI,YAAK,SAAS,CAAC,4CAAf,UAEQD,OAAO,cAAG,KAAC,MAAD,IAAH,cAGC,aAAK,SAAS,CAAC,wCAAf,wBACI,oBAAKE,OAAO,CAACY,KAAb,EADJ,cAEI,YAAK,GAAG,CAAEZ,OAAO,CAACa,KAAlB,CAAyB,SAAS,CAAC,WAAnC,EAFJ,cAGI,UAAG,SAAS,CAAC,MAAb,UAAqBb,OAAO,CAACc,WAA7B,EAHJ,cAII,aAAK,SAAS,CAAC,kCAAf,wBACI,gCAAYd,OAAZ,SAAYA,OAAZ,kCAAYA,OAAO,CAAEe,MAArB,0CAAY,gBAAiBC,IAA7B,GADJ,cAEI,gCAAYhB,OAAZ,SAAYA,OAAZ,iBAAYA,OAAO,CAAEiB,KAArB,GAFJ,GAJJ,cAQI,eAAQ,SAAS,CAAC,sDAAlB,CACQ,OAAO,CAAE,yBAAMd,SAAQ,CAAC,CACpBe,IAAI,CAAC,UADe,CAEpBC,OAAO,CAACnB,OAFY,CAAD,CAAd,EADjB,yBARJ,GALhB,EADJ,CAwBH,CA7CD,CA+CA,cAAeH,QAAf"},"metadata":{},"sourceType":"module"}