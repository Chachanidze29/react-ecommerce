{"ast":null,"code":"import _asyncToGenerator from\"/home/avtoneo/react/ecommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/avtoneo/react/ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/avtoneo/react/ecommerce/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useReducer,useState}from'react';import{Routes,Route}from'react-router-dom';import axios from'axios';import Header from'./components/Header';import Products from'./pages/Products';import Cart from'./pages/Cart';import Product from'./pages/Product';import cartReducer from\"./reducers/cartReducer\";import{CartContext,CartReducerDispatcher}from\"./contexts/cartContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useReducer=useReducer(cartReducer,[]),_useReducer2=_slicedToArray(_useReducer,2),cart=_useReducer2[0],dispatch=_useReducer2[1];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://fakestoreapi.com/products');case 2:response=_context.sent;setProducts(response.data);setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();useEffect(function(){setLoading(true);getData().catch(function(err){console.log(err);setLoading(false);});},[]);return/*#__PURE__*/_jsx(CartReducerDispatcher.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartContext.Provider,{value:cart,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(Header,{itemCount:cart.reduce(function(accumulatedTotal,cartItem){return accumulatedTotal+cartItem.quantity;},0)}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,element:/*#__PURE__*/_jsx(Products,{products:products,loading:loading})}),/*#__PURE__*/_jsx(Route,{path:\"/products/:productId\",exact:true,element:/*#__PURE__*/_jsx(Product,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",exact:true,element:/*#__PURE__*/_jsx(Cart,{products:cart})})]})]})})});};export default App;","map":{"version":3,"names":["React","useEffect","useReducer","useState","Routes","Route","axios","Header","Products","Cart","Product","cartReducer","CartContext","CartReducerDispatcher","App","products","setProducts","loading","setLoading","cart","dispatch","getData","get","response","data","catch","err","console","log","reduce","accumulatedTotal","cartItem","quantity"],"sources":["/home/avtoneo/react/ecommerce/src/App.js"],"sourcesContent":["import React, {useEffect, useReducer, useState} from 'react'\nimport { Routes, Route } from 'react-router-dom'\nimport axios from 'axios'\n\nimport Header from './components/Header'\nimport Products from './pages/Products'\nimport Cart from './pages/Cart'\nimport Product from './pages/Product'\nimport cartReducer from \"./reducers/cartReducer\";\nimport {CartContext,CartReducerDispatcher} from \"./contexts/cartContext\";\n\nconst App = ()=> {\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [cart, dispatch] = useReducer(cartReducer,[]);\n\n    const getData = async () => {\n        const response = await axios.get('https://fakestoreapi.com/products')\n        setProducts(response.data);\n        setLoading(false);\n    }\n\n    useEffect(() => {\n        setLoading(true);\n        getData().catch((err) => {\n            console.log(err)\n            setLoading(false);\n        })\n    }, []);\n\n    return (\n        <CartReducerDispatcher.Provider value={dispatch}>\n            <CartContext.Provider value={cart}>\n                <div className=\"flex flex-col\">\n                    <Header itemCount={cart.reduce((accumulatedTotal, cartItem) => accumulatedTotal + cartItem.quantity, 0)}/>\n                    <Routes>\n                        <Route path='/' exact\n                               element={<Products products={products}\n                                                  loading={loading}/>}/>\n                        <Route path='/products/:productId' exact element={<Product/>}/>\n                        <Route path='/cart' exact element={<Cart products={cart}/>}/>\n                    </Routes>\n                </div>\n            </CartContext.Provider>\n        </CartReducerDispatcher.Provider>\n    )\n}\n\nexport default App\n"],"mappings":"4VAAA,MAAOA,MAAP,EAAeC,SAAf,CAA0BC,UAA1B,CAAsCC,QAAtC,KAAqD,OAArD,CACA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,kBAA9B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,SAAP,KAAqB,kBAArB,CACA,MAAOC,KAAP,KAAiB,cAAjB,CACA,MAAOC,QAAP,KAAoB,iBAApB,CACA,MAAOC,YAAP,KAAwB,wBAAxB,CACA,OAAQC,WAAR,CAAoBC,qBAApB,KAAgD,wBAAhD,C,wFAEA,GAAMC,IAAG,CAAG,QAANA,IAAM,EAAK,CACb,cAAgCX,QAAQ,CAAC,EAAD,CAAxC,wCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAA8Bb,QAAQ,CAAC,KAAD,CAAtC,yCAAOc,OAAP,eAAgBC,UAAhB,eACA,gBAAyBhB,UAAU,CAACS,WAAD,CAAa,EAAb,CAAnC,4CAAOQ,IAAP,iBAAaC,QAAb,iBAEA,GAAMC,QAAO,0FAAG,sKACWf,MAAK,CAACgB,GAAN,CAAU,mCAAV,CADX,QACNC,QADM,eAEZP,WAAW,CAACO,QAAQ,CAACC,IAAV,CAAX,CACAN,UAAU,CAAC,KAAD,CAAV,CAHY,sDAAH,kBAAPG,QAAO,0CAAb,CAMApB,SAAS,CAAC,UAAM,CACZiB,UAAU,CAAC,IAAD,CAAV,CACAG,OAAO,GAAGI,KAAV,CAAgB,SAACC,GAAD,CAAS,CACrBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAR,UAAU,CAAC,KAAD,CAAV,CACH,CAHD,EAIH,CANQ,CAMN,EANM,CAAT,CAQA,mBACI,KAAC,qBAAD,CAAuB,QAAvB,EAAgC,KAAK,CAAEE,QAAvC,uBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAED,IAA7B,uBACI,aAAK,SAAS,CAAC,eAAf,wBACI,KAAC,MAAD,EAAQ,SAAS,CAAEA,IAAI,CAACU,MAAL,CAAY,SAACC,gBAAD,CAAmBC,QAAnB,QAAgCD,iBAAgB,CAAGC,QAAQ,CAACC,QAA5D,EAAZ,CAAkF,CAAlF,CAAnB,EADJ,cAEI,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CACO,OAAO,cAAE,KAAC,QAAD,EAAU,QAAQ,CAAEjB,QAApB,CACU,OAAO,CAAEE,OADnB,EADhB,EADJ,cAII,KAAC,KAAD,EAAO,IAAI,CAAC,sBAAZ,CAAmC,KAAK,KAAxC,CAAyC,OAAO,cAAE,KAAC,OAAD,IAAlD,EAJJ,cAKI,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,KAAzB,CAA0B,OAAO,cAAE,KAAC,IAAD,EAAM,QAAQ,CAAEE,IAAhB,EAAnC,EALJ,GAFJ,GADJ,EADJ,EADJ,CAgBH,CAnCD,CAqCA,cAAeL,IAAf"},"metadata":{},"sourceType":"module"}